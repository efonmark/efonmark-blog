---
title: electronæ‰“åŒ…çˆ¬å‘â€”å‡ºå‘
date: 2019-10-27
tags: 
categories: è®¡ç®—æœºåŸºç¡€çŸ¥è¯†
---

> **ä¸€ç•ªç å®¢ : æŒ–æŽ˜ä½ å…³å¿ƒçš„äº®ç‚¹ã€‚**
> **http://efonfighting.imwork.net**

æœ¬æ–‡ç›®å½•ï¼š

[TOC]

## å‰è¨€

æ˜¨å¤©ä¸€ç•ªè§£äº†å¾ˆä¹…æƒ³è§£è¿™ä¸ªelectronæ‰“åŒ…pythonå¯æ‰§è¡Œæ–‡ä»¶ä¸ºä¸€ä½“çš„æ–¹æ³•ï¼Œå› ä¸ºè¦å‘å¸ƒæˆ‘ä»¬çš„å°å·¥å…·ï¼Œå¿…é¡»è¦æ‰“åŒ…ä¸ºä¸€ä¸ªå®‰è£…åŒ…å•Šï¼Œä¸ç„¶å¯¹äºŽè®¡ç®—æœºå°ç™½æ¥è®²å¤ªä¸å‹å¥½äº†ã€‚ä»Šå¤©ä¸€ç•ªå‘æŒ¥**æžå®¢ç²¾ç¥ž**ï¼Œå¿…é¡»è¦å°†è¿™ä¸ªé—®é¢˜è§£å†³å•Šï¼Œè‡³å°‘ã€‚ã€‚ã€‚ã€‚æš‚æ—¶åœ¨æŸç§ç¨‹åº¦ä¸Šè§£å†³è¿™ä¸ªé—®é¢˜å§ã€‚

çœ‹æ¥è¦å­¦ä¹ ä¸€æ ·æŠ€èƒ½ï¼Œè¿˜æ˜¯è¦æˆä½“ç³»çš„å­¦ä¹ æ‰è¡Œï¼Œä½†çŽ°åœ¨è¿™ä¸ªæŠ€æœ¯æ—¥æ–°æœˆå¼‚çš„æ—¶ä»£ï¼Œç­‰æœ‰å®Œæ•´æ•™ç¨‹æˆ–ä¹¦ç±å‡ºæ¥æ—¶ï¼Œä½ å·²ç»è½åŽäº†ï¼Œæˆ–è®¸è¿™ä¸ªæŠ€æœ¯å·²ç»æˆç†Ÿäº†ã€‚å¾ˆå¤šæŠ€æœ¯é—®é¢˜åœ¨äº’è”ç½‘ä¸Šæ‰æ˜¯æœ€æ–°æœ€å…¨çš„ï¼Œæ‰€ä»¥æœ€å¥½çš„æ–¹å¼ï¼Œä¾¿æ˜¯ç»“åˆäº’è”ç½‘ä¸Šçš„è¿™äº›æœ€æ–°æœ€å…¨çš„èµ„æ–™ï¼Œåœ¨è‡ªå·±å­¦ä¹ çˆ¬å‘çš„è¿‡ç¨‹ä¸­ï¼Œéšæ—¶æ•´ç†ã€è®°å½•å‡ºä¸€å¥—è‡ªå·±çš„å­¦ä¹ ç¬”è®°ã€çŸ¥è¯†ä½“ç³»ï¼Œæœ€ç»ˆå½“æˆ‘ä»¬å¯¹è¿™ä»¬æŠ€èƒ½æŽŒæ¡åˆ°ä¸€å®šç¨‹åº¦åŽï¼Œä¹Ÿè®¸æˆ‘ä»¬è‡ªå·±çš„å­¦ä¹ ç¬”è®°ï¼Œä¾¿æ˜¯ä¸€æœ¬æœ€æ–°æœ€å…¨çš„æŠ€æœ¯æŒ‡å¯¼ä¹¦ï¼Œå“ˆå“ˆã€‚

## ç»§ç»­çˆ¬å‘

ç»åŽ†äº†æ˜¨å¤©çˆ¬å‘å››æ­¥æ›²ï¼Œä¸€ç•ªä»Šå¤©ç»§ç»­çˆ¬å‘ï¼Œèª“è¦è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸€ç•ªç»§ç»­ä¸“ç ”`electron-package`çš„æ‰“åŒ…æ–¹å¼ã€‚å½“ä¸€ç•ªæ‰§è¡Œå¦‚ä¸‹æ‰“åŒ…è„šæœ¬æ—¶ã€‚

>  "pack-app": "./node_modules/.bin/electron-packager.cmd . --overwrite --ignore=py$ --ignore=\\.env --ignore=\\.vscode --ignore=old-post-backup"

æŠ¥é”™å¦‚ä¸‹ï¼š

```
> electron-packager.cmd . --overwrite --ignore=py$ --ignore=\.env --ignore=\.vscode --ignore=old-post-backup

EPERM: operation not permitted, lstat 'C:\Users\efonf\AppData\Local\Temp\electron-download-apHr3h\electron-v2.0.18-win32-x64.zip'
npm ERR! code ELIFECYCLE
npm ERR! errno 1
npm ERR! efonmark@0.0.1 pack-app: `electron-packager.cmd . --overwrite --ignore=py$ --ignore=\.env --ignore=\.vscode --ignore=old-post-backup`
npm ERR! Exit status 1
npm ERR! 
npm ERR! Failed at the efonmark@0.0.1 pack-app script.
npm ERR! This is probably not a problem with npm. There is likely additional logging output above.

npm ERR! A complete log of this run can be found in:
npm ERR!     C:\Users\efonf\AppData\Roaming\npm-cache\_logs\2019-10-27T14_46_54_520Z-debug.log
The terminal process terminated with exit code: 1
```

ä»¥æ­¤æŠ¥é”™ä¿¡æ¯æ¥æ­£é¢åˆ†æžã€‚

ä»”ç»†çœ‹äº†ä¸‹ï¼Œ`operation not permitted`ä¼¼ä¹Žåœ¨è¯´æ˜¯è®¿é—®åŽé¢è¿™ä¸ªæ–‡ä»¶æ—¶æ²¡æœ‰æƒé™ã€‚

* æœ¬èƒ½æƒ³åˆ°æ˜¯ä¸æ˜¯è¦ä½¿ç”¨ç®¡ç†å‘˜æƒé™ã€‚äºŽæ˜¯ä½¿ç”¨ç®¡ç†å‘˜æƒé™è¿è¡Œvscodeï¼Œå†æ¬¡æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œæ‰‘è¡—~~
* è¿˜æ˜¯ä¸Šç½‘æœå§ï¼Œè¿™æ¬¡ç”¨googleï¼ˆä¸è¦é—®æˆ‘æ€Žä¹ˆä¸Šçš„è°·æ­ŒðŸ§ï¼‰ï¼Œæœå‡ºæ¥çš„æ•ˆæžœç¡®å®žè¿˜æ˜¯æ¯”ç™¾åº¦å¥½ä¸€ç‚¹ï¼Œä»€ä¹ˆ`npm cache clean --force`æ¸…ç†npmç¼“å­˜ï¼Œç®¡ç†å‘˜æƒé™è¿è¡Œvscodeï¼Œå…³é—­vscodeå‘½ä»¤è¡Œè¿è¡Œã€‚æœ€ç»ˆç»“æžœå§uæ˜¯è¿˜æ˜¯ä¸è¡Œã€‚
* æ·±å…¥ä¸€ä¸‹æ‰“åŒ…è„šæœ¬æºç ï¼Œè¿½äº†ä¸€ä¸‹ï¼Œç®—äº†ï¼Œä¸€æ—¶åŠä¼šå„¿æ˜¯çœ‹ä¸æ‡‚äº†ã€‚
* è¿˜æ˜¯Googleä¸€ä¸‹pythonæ€Žä¹ˆæ‰“åŒ…å§ï¼Œé™¤äº†æœåˆ°ä¸€ä¸¤ç¯‡é›¶æ˜Ÿè®²ç”¨electron-packgeä¹‹å¤–ï¼Œç”¨äº†åŒæ ·çš„æ‰“åŒ…è„šæœ¬ï¼Œä½†ä¸€ç•ªç”¨ä¸äº†å•Šï¼Œæ€€ç–‘electronå»ºç«‹å·¥ç¨‹æ—¶çš„çŽ¯å¢ƒé—®é¢˜ï¼Œé‚£å°±åªæœ‰é‡æ–°å»ºå·¥ç¨‹äº†ã€‚æš‚æ—¶å…ˆä¸è€ƒè™‘äº†ã€‚

## å‡ºå‘

ä¹‹å‰ä¸€ç•ªç”¨å»ºç«‹å·¥ç¨‹æ—¶çš„buildè„šæœ¬æœ‰æ‰“åŒ…å‡ºå¯electronçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œåªæ˜¯è¿™ä¸ªé‡Œé¢æ²¡æœ‰æ‰“åŒ…å…¥pythonçš„å¯æ‰§è¡Œæ–‡ä»¶ï¼Œå³ä½¿å†package.jsonè„šæœ¬ä¸­çš„fileså­—æ®µä¸­åŠ å…¥pydistè¿™ä¸ªç›®å½•ï¼Œä¾ç„¶æ²¡æœ‰æ•ˆæžœï¼Œä¼°è®¡åªæœ‰åŽé¢æ›´å¤šç»éªŒç§¯ç´¯ä¹‹åŽæ‰èƒ½è§£å†³äº†ã€‚

ä¸€ç•ªå†æ¬¡æ‰§è¡Œè¿™ä¸ªè„šæœ¬ï¼Œæƒ³çœ‹ä¸‹å®ƒåšäº†å“ªäº›åŠ¨ä½œã€‚ç ”ç©¶äº†ä¸‹è¿™ä¸ªæˆåŠŸçš„æ‰“å°ã€‚

```
  â€¢ electron-builder version=20.44.4
  â€¢ loaded configuration file=package.json ("build" field)
  â€¢ writing effective config file=build\builder-effective-config.yaml
  â€¢ no native production dependencies
  â€¢ packaging       platform=win32 arch=x64 electron=2.0.18 appOutDir=build\win-unpacked
  â€¢ default Electron icon is used reason=application icon is not set
  â€¢ building        target=nsis file=build\efonmark Setup 0.0.1.exe archs=x64 oneClick=true perMachine=false
  â€¢ building block map blockMapFile=build\efonmark Setup 0.0.1.exe.blockmap
```

å‘çŽ°åœ¨buildä¸‹é¢ä¼šç”Ÿæˆä¸€ä¸ªwin-upackedç›®å½•ï¼Œä¸€çœ‹åˆšå¼€å§‹ç†è§£ä¸ºäº†å¸è½½ç›®å½•ï¼Œä»”ç»†ä¸€æƒ³ï¼Œä¸æ˜¯è§£åŽ‹ç›®å½•å—ï¼Œè¿›åŽ»ä¸€çœ‹ï¼Œæžœç„¶æ—¶è§£åŽ‹åŽçš„ç›®å½•ï¼Œå’Œå®‰è£…å®Œçš„ç›®å½•å¾ˆåƒã€‚ä½†å¦‚æžœé€šè¿‡å®‰è£…æ–¹å¼å®‰è£…ï¼Œç›´æŽ¥æŠŠè§£åŽ‹åŽçš„ç›®å½•ç§»æ¤åˆ°å…¶ä»–ç”µè„‘æ˜¯ä¸å¯è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸èƒ½ä½œä¸ºç»¿è‰²è½¯ä»¶ã€‚

æŸ³æš—èŠ±æ˜Žï¼Œä¸€ç•ªæŠŠè¿™win-packedä¸ªç›®å½•æ‹·è´åˆ°å¦ä¸€å°ç”µè„‘ï¼Œå‘çŽ°å¯ä»¥æ­£å¸¸è¿è¡Œï¼Œä¹Ÿå°±æ˜¯è¯´æŠŠå®ƒåŽ‹ç¼©æ‰“åŒ…ä¹‹åŽå°±å¯ä»¥ç›´æŽ¥å‘å¸ƒäº†ï¼Œè¿˜å¯ä»¥æ˜¯ç»¿è‰²è½¯ä»¶ï¼Œæ­£å¥½ã€‚

äºŽæ˜¯ä¸€ç•ªæŠŠç”Ÿæˆçš„pyhtonå¯æ‰§è¡Œæ–‡ä»¶ä¹Ÿä¸€èµ·æ”¾åˆ°è¿™ä¸ªç›®å½•å¹¶æ‰“åŒ…ï¼ŒæˆåŠŸï¼Œå‡ºå‘~

å°ä¼™ä¼´å¦‚æžœæ„Ÿå…´è¶£ï¼Œä¸€ç•ªä¹Ÿå¾ˆæƒ³è®©å°ä¼™ä¼´ä»¬å…ˆç”¨èµ·æ¥ï¼Œä»Šå¤©å…ˆå‘å¸ƒä¸€ä¸ªV0.0.1çš„ç‰ˆæœ¬ï¼Œä¸€ç•ªå°†å®ƒå‘å¸ƒåˆ°äº†ä¸€ç•ªçš„å…è´¹çŸ¥è¯†æ˜Ÿçƒ"ä¸€ç•ªç å®¢-ç§¯ç´¯äº¤æµ"ï¼Œéœ€è¦çš„å°ä¼™ä¼´å¯ä»¥å‰å¾€èŽ·å–ã€‚

åŸºæœ¬åŠŸèƒ½éƒ½æ˜¯okçš„ï¼Œå¯ä»¥ç›´æŽ¥åœ¨è§£åŽ‹ç›®å½•ä¸‹æ‰¾åˆ°efonmark.exeæ–‡ä»¶è¿è¡Œï¼Œåœ¨è¯¥ç›®å½•ä¸‹ä¼šç”Ÿæˆä¸€ä¸ªout.pdfçš„æ–‡æ¡£ï¼Œå³å¯å®Œæˆpdfçš„åˆå¹¶ã€‚

![](2019-10-27-electronæ‰“åŒ…çˆ¬å‘-å‡ºå‘/01.png)

## ä¸€ç•ªä»Šæ—¥

ä»Šå¤©å¼€è½¦è·¯ä¸Šå¬éŸ³é¢‘ï¼Œå­¦ä¹ åˆ°ä¸¤å¥è¯ã€‚

* å†™æ–‡æœ€é‡è¦çš„æ˜¯è¦æœ‰åŒç†å¿ƒã€‚

* ä¸è¦æ˜Žå¤©å†åŠªåŠ›ï¼Œåªæœ‰åŠªåŠ›è¿‡å®Œä»Šå¤©æ‰æœ‰æ˜Žå¤©ï¼

æƒ³åˆ°äº†ä¸€äº›äº‹ï¼Œä¸€ç•ªç å®¢æˆ‘æ˜¯ä¸æ˜¯è¦æ”¹åå­—ä¸ºä¸€ç•ªæžå®¢ï¼Œæƒ³äº†ä¸‹ï¼Œè¿˜æ˜¯æ²¡å¿…è¦æ”¹äº†ï¼Œä¸€ç•ªç å®¢å³ç ä»£ç ä¹Ÿç æ–‡å­—ï¼Œåªæ˜¯ä¸€ç•ªç å®¢çš„æžå®¢ç²¾ç¥žè¦ä½œä¸ºæ ¸å¿ƒç²¾ç¥žã€‚

> ä¸€ç•ªé›¾è¯­ï¼šå¦‚æžœåæ„Ÿå£å·ï¼Œé‚£ç†è§£ä¸‹å®ƒçš„å«ä¹‰ï¼Œæ˜¯çœŸçš„åªæ˜¯å¼ºåŠ äºŽäººçš„å£å·ï¼Œè¿˜æ˜¯æˆ‘ä»¬ä¸ºè‡ªå·±çš„æ‡’æƒ°æ‰¾å€Ÿå£ã€‚



> **å…è´¹çŸ¥è¯†æ˜Ÿçƒï¼š [ä¸€ç•ªç å®¢-ç§¯ç´¯äº¤æµ]([wwww](https://t.zsxq.com/NRVBURr))**
> **å¾®ä¿¡å…¬ä¼—å·ï¼šä¸€ç•ªç å®¢**
> **å¾®ä¿¡ï¼šEfon-fighting**
> **ç½‘ç«™ï¼š http://efonfighting.imwork.net**